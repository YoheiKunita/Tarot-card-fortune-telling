# 2025-09-25 作業メモ

## 変更概要
- カードサイズを20%縮小（拡大時の見た目サイズは維持）
  - `--card-w: 114px`, `--card-h: 187px`
  - 拡大倍率 `--card-hover-scale: 1.925`
- リビール時に背景色を変えない（暗転無効化）
  - `.dim.active { opacity: 0 }` に変更
- 戻すアニメーションの改善と高速化（約30%速く）
  - 盤面のカード・未リビールカードも含めて山に戻す
  - 反対側（oppile）のカードも順に戻す
  - 既定 `timeScale: 0.7` を適用
- レイアウトの重なり改善（5枚以上）
  - 5〜10枚の配置を広げて重なりを軽減
  - 7枚の配置で「左から2〜5をやや中央寄せ」「7枚目を少し上に」
  - 5/6/8/9枚は左右列を「カード半分」分だけ中央に寄せる
  - 5枚の上下間隔を拡大（上20%、下80%）

## UI/描画まわり
- ヘッダー下の境界線を削除（白い線の一因を解消）
- タイトルバー表示ポリシー調整
  - 一度オーバーレイ化（hidden + overlay）でシーム対策 → 要望によりネイティブに戻す
  - アプリ内ヘッダーは最終的に `display: none;`（黒帯回避）
- 白い線（1px）対策（CSS側）
  - `background-attachment: fixed` をやめる
  - `html { background: var(--bg); }` を追加
  - 備考: Chromium/Windows の合成誤差により稀に再現あり

## 変更ファイル
- `src/styles.css`
- `src/renderer.js`
- `src/modes/three-card.js`
- `src/modes/one-oracle.js`
- `main.js`

## 既知の課題/メモ
- タイトルバー直下の白い細線が稀に出る（Chromiumの背景固定描画・合成の継ぎ目）。CSS調整で軽減したが完全には消えないケースあり。
  - 代替案: 擬似要素で `position: fixed; inset: 0;` の背景敷き（必要なら実装可）

## 次の候補タスク
- 背景の擬似要素実装でのシーム完全回避案の検証
- レイアウトの微調整（寄せ量・上下量の再調整）
- アニメーション速度の個別調整UI（設定画面）


# 作業メモ（2025-10-05）

## 目的
- メニュー変更（panelMain から `btnResume` を撤去）と不要資産の削除。
- 三枚固定モード依存を除去し、`startSpread(n)` による 1〜10 枚可変スプレッドへ統一。

## 変更点
- メニュー関連
  - `src/renderer.js`・`src/override-advice.js`: panelMain での `#btnResume` 生成ロジックを無効化。
  - `src/index.html`: 旧ボタン `#btnThree`/`#btnOne` を削除（DOM 非存在を確認）。
- 実装整理（モード依存の排除）
  - `renderer.js`: `makeMode`/`switchMode`/`mode.*` を全削除。`startRun(kind)` は `startSpread(n)` を呼ぶ方式へ変更（`one`=1、それ以外=3）。
  - アクション: `btnMenu` は `showStartMenu()`、`btnRetry` は `startSpread(lastCount || 3)` に統一。
  - 不要化ファイル削除: `src/modes/three-card.js`、`src/modes/one-oracle.js`、`src/modes/initializer.js` を削除。
- 不要ファイルの削除
  - 一時ファイル: `tmp_snippet.txt`、`tmp_require.js`、`tmp_renderer_full.txt`、`tmp_renderer_copy.txt`、`tmp_pkg.json`、`tmp_patch.txt`、`tmp_oldblock.txt`、`tmp_main.js`、`tmp_block.txt`、`tmp_bad_line.txt`、`tmp_bad_hex.txt`。
  - 画像: `img/back_案2.png`、`img/back_旧.png`。
  - ディレクトリ: `tarot-adviser-test`（併せて `package.json` の `test:adviser` を削除）、`app`、`scripts`。

## 動作メモ
- スタートメニューは「スプレッド選択（1〜10）」→「開始」で `startSpread(n)` を実行。
- 互換の `startRun('three')` は内部で `startSpread(3)` を呼ぶよう統一。
- 旧ボタン `#btnThree`/`#btnOne` は DOM に存在しないことを確認済み。

## 既知の注意
- ドキュメント（`doc/2025-09-26-作業メモ.md`、`doc/2025-09-28-作業メモ.md`）に `tarot-adviser-test` 記述が残るが、整理不要との方針。
- README 等の「モード実装」説明（three-card/one-oracle 言及）は未更新。

## 次の候補
- ドキュメント更新（README の構成説明を現状に合わせる）。
- 日本語表示の文字化け箇所の再点検と修正。
- メニュー構築/委譲ハンドラの簡素化（必要に応じて）。
